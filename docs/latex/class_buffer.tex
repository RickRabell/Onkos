\doxysection{Buffer Class Reference}
\hypertarget{class_buffer}{}\label{class_buffer}\index{Buffer@{Buffer}}


A generic wrapper for a Direct3D 11 buffer (ID3\+D11\+Buffer).  




{\ttfamily \#include $<$Buffer.\+h$>$}

\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_buffer_a92fd371409790ee64d2ca9bdaec2dd1a}{Buffer}} ()=default
\begin{DoxyCompactList}\small\item\em Default constructor. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_buffer_ae2f3fc08c4a74c7f3b4437af4dd03ed5}{\texorpdfstring{$\sim$}{\string~}\+Buffer}} ()=default
\begin{DoxyCompactList}\small\item\em Default destructor. \end{DoxyCompactList}\item 
HRESULT \mbox{\hyperlink{class_buffer_a38292a603c7858826064b70a111ab9ad}{init}} (\mbox{\hyperlink{class_device}{Device}} \&device, const \mbox{\hyperlink{class_mesh_component}{Mesh\+Component}} \&mesh, unsigned int bind\+Flag)
\begin{DoxyCompactList}\small\item\em Initializes the buffer as a static resource from mesh data. This is typically used for creating Vertex Buffers or Index Buffers. \end{DoxyCompactList}\item 
HRESULT \mbox{\hyperlink{class_buffer_a50aa719fb728d4baa7c13e2169ca4155}{init}} (\mbox{\hyperlink{class_device}{Device}} \&device, unsigned int byte\+Width)
\begin{DoxyCompactList}\small\item\em Initializes the buffer for dynamic use, typically a constant buffer. This creates a buffer of a specific size with D3\+D11\+\_\+\+USAGE\+\_\+\+DYNAMIC and D3\+D11\+\_\+\+CPU\+\_\+\+ACCESS\+\_\+\+WRITE flags. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_buffer_a246363f9412b48c01dd7a75d08c793ca}{update}} (\mbox{\hyperlink{class_device_context}{Device\+Context}} \&device\+Context, ID3\+D11\+Resource \texorpdfstring{$\ast$}{*}p\+Dst\+Resource, unsigned int Dst\+Subresource, const D3\+D11\+\_\+\+BOX \texorpdfstring{$\ast$}{*}p\+Dst\+Box, const void \texorpdfstring{$\ast$}{*}p\+Src\+Data, unsigned int Src\+Row\+Pitch, unsigned int Src\+Depth\+Pitch)
\begin{DoxyCompactList}\small\item\em Updates the buffer\textquotesingle{}s contents. Wrapper for ID3\+D11\+Device\+Context\+::\+Update\+Subresource. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_buffer_a96d28a8996d3295ec8171048d400e3f5}{render}} (\mbox{\hyperlink{class_device_context}{Device\+Context}} \&device\+Context, unsigned int Start\+Slot, unsigned int Num\+Buffers, bool set\+Pixel\+Shader=false, DXGI\+\_\+\+FORMAT format=DXGI\+\_\+\+FORMAT\+\_\+\+UNKNOWN)
\begin{DoxyCompactList}\small\item\em Binds the buffer to the graphics pipeline. This method\textquotesingle{}s behavior changes based on the m\+\_\+bind\+Flag set during init. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_buffer_ac7345574d2ad0202f9e1e745df6519d3}{destroy}} ()
\begin{DoxyCompactList}\small\item\em Releases the underlying ID3\+D11\+Buffer COM object. \end{DoxyCompactList}\item 
HRESULT \mbox{\hyperlink{class_buffer_a30e5bfadde7c7c05cccd65ff51596c04}{create\+Buffer}} (\mbox{\hyperlink{class_device}{Device}} \&device, D3\+D11\+\_\+\+BUFFER\+\_\+\+DESC \&desc, D3\+D11\+\_\+\+SUBRESOURCE\+\_\+\+DATA \texorpdfstring{$\ast$}{*}init\+Data)
\begin{DoxyCompactList}\small\item\em A private helper function to create the actual D3\+D11 buffer. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A generic wrapper for a Direct3D 11 buffer (ID3\+D11\+Buffer). 

\begin{DoxyAuthor}{Author}
Ricardo Rabell 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2025-\/10-\/16
\end{DoxyDate}
This class encapsulates an ID3\+D11\+Buffer. It is designed to be versatile and can manage Vertex Buffers, Index Buffers, and Constant Buffers. The behavior of the buffer (how it\textquotesingle{}s created and bound) is determined by the {\ttfamily bind\+Flag} provided during initialization. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_buffer_a92fd371409790ee64d2ca9bdaec2dd1a}\index{Buffer@{Buffer}!Buffer@{Buffer}}
\index{Buffer@{Buffer}!Buffer@{Buffer}}
\doxysubsubsection{\texorpdfstring{Buffer()}{Buffer()}}
{\footnotesize\ttfamily \label{class_buffer_a92fd371409790ee64d2ca9bdaec2dd1a} 
Buffer\+::\+Buffer (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}



Default constructor. 

\Hypertarget{class_buffer_ae2f3fc08c4a74c7f3b4437af4dd03ed5}\index{Buffer@{Buffer}!````~Buffer@{\texorpdfstring{$\sim$}{\string~}Buffer}}
\index{````~Buffer@{\texorpdfstring{$\sim$}{\string~}Buffer}!Buffer@{Buffer}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}Buffer()}{\string~Buffer()}}
{\footnotesize\ttfamily \label{class_buffer_ae2f3fc08c4a74c7f3b4437af4dd03ed5} 
Buffer\+::\texorpdfstring{$\sim$}{\string~}\+Buffer (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}



Default destructor. 



\doxysubsection{Member Function Documentation}
\Hypertarget{class_buffer_a30e5bfadde7c7c05cccd65ff51596c04}\index{Buffer@{Buffer}!createBuffer@{createBuffer}}
\index{createBuffer@{createBuffer}!Buffer@{Buffer}}
\doxysubsubsection{\texorpdfstring{createBuffer()}{createBuffer()}}
{\footnotesize\ttfamily \label{class_buffer_a30e5bfadde7c7c05cccd65ff51596c04} 
HRESULT Buffer\+::create\+Buffer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_device}{Device}} \&}]{device}{, }\item[{D3\+D11\+\_\+\+BUFFER\+\_\+\+DESC \&}]{desc}{, }\item[{D3\+D11\+\_\+\+SUBRESOURCE\+\_\+\+DATA \texorpdfstring{$\ast$}{*}}]{init\+Data}{}\end{DoxyParamCaption})}



A private helper function to create the actual D3\+D11 buffer. 


\begin{DoxyParams}{Parameters}
{\em device} & The graphics device. \\
\hline
{\em desc} & The D3\+D11\+\_\+\+BUFFER\+\_\+\+DESC describing the buffer. \\
\hline
{\em init\+Data} & Optional initial data for the buffer. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
HRESULT S\+\_\+\+OK if successful. 
\end{DoxyReturn}
\Hypertarget{class_buffer_ac7345574d2ad0202f9e1e745df6519d3}\index{Buffer@{Buffer}!destroy@{destroy}}
\index{destroy@{destroy}!Buffer@{Buffer}}
\doxysubsubsection{\texorpdfstring{destroy()}{destroy()}}
{\footnotesize\ttfamily \label{class_buffer_ac7345574d2ad0202f9e1e745df6519d3} 
void Buffer\+::destroy (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}



Releases the underlying ID3\+D11\+Buffer COM object. 

\Hypertarget{class_buffer_a38292a603c7858826064b70a111ab9ad}\index{Buffer@{Buffer}!init@{init}}
\index{init@{init}!Buffer@{Buffer}}
\doxysubsubsection{\texorpdfstring{init()}{init()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{class_buffer_a38292a603c7858826064b70a111ab9ad} 
HRESULT Buffer\+::init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_device}{Device}} \&}]{device}{, }\item[{const \mbox{\hyperlink{class_mesh_component}{Mesh\+Component}} \&}]{mesh}{, }\item[{unsigned int}]{bind\+Flag}{}\end{DoxyParamCaption})}



Initializes the buffer as a static resource from mesh data. This is typically used for creating Vertex Buffers or Index Buffers. 


\begin{DoxyParams}{Parameters}
{\em device} & The graphics device used to create the buffer. \\
\hline
{\em mesh} & The mesh component containing the vertex or index data. \\
\hline
{\em bind\+Flag} & The bind flag (e.\+g., D3\+D11\+\_\+\+BIND\+\_\+\+VERTEX\+\_\+\+BUFFER, D3\+D11\+\_\+\+BIND\+\_\+\+INDEX\+\_\+\+BUFFER). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
HRESULT S\+\_\+\+OK if successful, otherwise an error code. 
\end{DoxyReturn}
\Hypertarget{class_buffer_a50aa719fb728d4baa7c13e2169ca4155}\index{Buffer@{Buffer}!init@{init}}
\index{init@{init}!Buffer@{Buffer}}
\doxysubsubsection{\texorpdfstring{init()}{init()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{class_buffer_a50aa719fb728d4baa7c13e2169ca4155} 
HRESULT Buffer\+::init (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_device}{Device}} \&}]{device}{, }\item[{unsigned int}]{byte\+Width}{}\end{DoxyParamCaption})}



Initializes the buffer for dynamic use, typically a constant buffer. This creates a buffer of a specific size with D3\+D11\+\_\+\+USAGE\+\_\+\+DYNAMIC and D3\+D11\+\_\+\+CPU\+\_\+\+ACCESS\+\_\+\+WRITE flags. 


\begin{DoxyParams}{Parameters}
{\em device} & The graphics device used to create the buffer. \\
\hline
{\em byte\+Width} & The size of the buffer in bytes. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
HRESULT S\+\_\+\+OK if successful. 
\end{DoxyReturn}
\Hypertarget{class_buffer_a96d28a8996d3295ec8171048d400e3f5}\index{Buffer@{Buffer}!render@{render}}
\index{render@{render}!Buffer@{Buffer}}
\doxysubsubsection{\texorpdfstring{render()}{render()}}
{\footnotesize\ttfamily \label{class_buffer_a96d28a8996d3295ec8171048d400e3f5} 
void Buffer\+::render (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_device_context}{Device\+Context}} \&}]{device\+Context}{, }\item[{unsigned int}]{Start\+Slot}{, }\item[{unsigned int}]{Num\+Buffers}{, }\item[{bool}]{set\+Pixel\+Shader}{ = {\ttfamily false}, }\item[{DXGI\+\_\+\+FORMAT}]{format}{ = {\ttfamily DXGI\+\_\+FORMAT\+\_\+UNKNOWN}}\end{DoxyParamCaption})}



Binds the buffer to the graphics pipeline. This method\textquotesingle{}s behavior changes based on the m\+\_\+bind\+Flag set during init. 


\begin{DoxyItemize}
\item If D3\+D11\+\_\+\+BIND\+\_\+\+VERTEX\+\_\+\+BUFFER\+: Calls IASet\+Vertex\+Buffers.
\item If D3\+D11\+\_\+\+BIND\+\_\+\+INDEX\+\_\+\+BUFFER\+: Calls IASet\+Index\+Buffer.
\item If D3\+D11\+\_\+\+BIND\+\_\+\+CONSTANT\+\_\+\+BUFFER\+: Calls VSSet\+Constant\+Buffers or PSSet\+Constant\+Buffers. 
\begin{DoxyParams}{Parameters}
{\em device\+Context} & The device context to issue the binding command. \\
\hline
{\em Start\+Slot} & The starting slot to bind the buffer to. \\
\hline
{\em Num\+Buffers} & The number of buffers to bind (typically 1). \\
\hline
{\em set\+Pixel\+Shader} & If true and this is a constant buffer, binds to the Pixel Shader stage. Otherwise, binds to Vertex Shader. \\
\hline
{\em format} & The DXGI\+\_\+\+FORMAT for an index buffer (e.\+g., DXGI\+\_\+\+FORMAT\+\_\+\+R32\+\_\+\+UINT). \\
\hline
\end{DoxyParams}

\end{DoxyItemize}\Hypertarget{class_buffer_a246363f9412b48c01dd7a75d08c793ca}\index{Buffer@{Buffer}!update@{update}}
\index{update@{update}!Buffer@{Buffer}}
\doxysubsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily \label{class_buffer_a246363f9412b48c01dd7a75d08c793ca} 
void Buffer\+::update (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_device_context}{Device\+Context}} \&}]{device\+Context}{, }\item[{ID3\+D11\+Resource \texorpdfstring{$\ast$}{*}}]{p\+Dst\+Resource}{, }\item[{unsigned int}]{Dst\+Subresource}{, }\item[{const D3\+D11\+\_\+\+BOX \texorpdfstring{$\ast$}{*}}]{p\+Dst\+Box}{, }\item[{const void \texorpdfstring{$\ast$}{*}}]{p\+Src\+Data}{, }\item[{unsigned int}]{Src\+Row\+Pitch}{, }\item[{unsigned int}]{Src\+Depth\+Pitch}{}\end{DoxyParamCaption})}



Updates the buffer\textquotesingle{}s contents. Wrapper for ID3\+D11\+Device\+Context\+::\+Update\+Subresource. 

\begin{DoxyNote}{Note}
This is typically used for default-\/usage buffers (D3\+D11\+\_\+\+USAGE\+\_\+\+DEFAULT). For dynamic buffers, Map/\+Unmap is preferred. 
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em device\+Context} & The device context to issue the update command. \\
\hline
{\em p\+Dst\+Resource} & The destination buffer resource (should be m\+\_\+buffer). \\
\hline
{\em Dst\+Subresource} & The destination subresource index. \\
\hline
{\em p\+Dst\+Box} & A box defining the region to update. nullptr for the whole resource. \\
\hline
{\em p\+Src\+Data} & Pointer to the source data in system memory. \\
\hline
{\em Src\+Row\+Pitch} & The row pitch of the source data. \\
\hline
{\em Src\+Depth\+Pitch} & The depth pitch of the source data. \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Onkos/include/\mbox{\hyperlink{_buffer_8h}{Buffer.\+h}}\item 
Onkos/source/\mbox{\hyperlink{_buffer_8cpp}{Buffer.\+cpp}}\end{DoxyCompactItemize}
